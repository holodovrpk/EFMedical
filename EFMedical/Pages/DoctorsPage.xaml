<Page x:Class="EFMedical.Pages.DoctorsPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="DoctorsPage">

    <!-- Основная сетка страницы -->
    <Grid Background="#f8f9fb" Margin="10">
        <Grid.RowDefinitions>
            <!-- Первая строка — таблица -->
            <RowDefinition Height="*"/>
            <!-- Вторая строка — панель редактирования -->
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- ================== Таблица врачей ================== -->
        <!-- отключаем автогенерацию столбцов -->
        <!-- запрет прямого редактирования -->
        <!-- запрет добавления пустых строк вручную -->
        <!-- можно выбрать только одного врача -->
        <DataGrid x:Name="DoctorsGrid"
                  Grid.Row="0"
                  AutoGenerateColumns="False"    
                  IsReadOnly="True"
                  VerticalAlignment="Top"
                  Height="200"
                  CanUserAddRows="False"
                  SelectionMode="Single"
                  SelectionChanged="DoctorsGrid_SelectionChanged"
                  Margin="0,0,0,10">

            <!-- Определение столбцов -->
            <DataGrid.Columns>
                <!-- ФИО врача -->
                <DataGridTextColumn Header="ФИО"
                                    Binding="{Binding FullName}"
                                    Width="*"/>

                <!-- Специальность врача -->
                <DataGridTextColumn Header="Специальность"
                                    Binding="{Binding Specialty}"
                                    Width="200"/>
            </DataGrid.Columns>
        </DataGrid>

        <!-- ================== Панель редактирования ================== -->
        <Border Grid.Row="1"
                Background="White"
                Padding="15"
                CornerRadius="10"
                BorderBrush="#d0d4dc"
                BorderThickness="1">

            <StackPanel>
                <!-- Заголовок панели -->
                <TextBlock Text="Редактирование врача"
                           FontSize="18"
                           FontWeight="Bold"
                           Margin="0,0,0,10"/>

                <!-- Сетка с полями ввода -->
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="150"/>
                        <!-- Колонка для надписей -->
                        <ColumnDefinition Width="*"/>
                        <!-- Колонка для полей -->
                    </Grid.ColumnDefinitions>

                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <!-- ФИО -->
                        <RowDefinition Height="Auto"/>
                        <!-- Специальность -->
                        <RowDefinition Height="Auto"/>
                        <!-- Телефон -->
                    </Grid.RowDefinitions>

                    <!-- Поле: ФИО -->
                    <TextBlock Text="ФИО:"
                               Grid.Row="0"
                               Grid.Column="0"
                               VerticalAlignment="Center"/>
                    <TextBox Text="{Binding FullName}"
                             Grid.Row="0"
                             Grid.Column="1"
                             Margin="5"/>

                    <!-- Поле: Специальность -->
                    <TextBlock Text="Специальность:"
                               Grid.Row="1"
                               Grid.Column="0"
                               VerticalAlignment="Center"
                               Margin="0,10,0,0"/>
                    <TextBox Text="{Binding Specialty}"
                             Grid.Row="1"
                             Grid.Column="1"
                             Margin="5,10,5,0"/>

                    <!-- Поле: Телефон -->
                    <TextBlock Text="Телефон:"
                               Grid.Row="2"
                               Grid.Column="0"
                               VerticalAlignment="Center"
                               Margin="0,10,0,0"/>
                    <TextBox Text="{Binding Phone}"
                             Grid.Row="2"
                             Grid.Column="1"
                             Margin="5,10,5,0"/>
                </Grid>

                <!-- Кнопки управления -->
                <StackPanel Orientation="Horizontal"
                            HorizontalAlignment="Right"
                            Margin="0,15,0,0">

                    <!-- Добавить нового врача -->
                    <Button Content="Добавить"
                            Width="100"
                            Margin="5"
                            Click="Add_Click"/>

                    <!-- Сохранить изменения -->
                    <Button Content="Сохранить"
                            Width="100"
                            Margin="5"
                            Click="Save_Click"/>

                    <!-- Удалить выбранного врача -->
                    <Button Content="Удалить"
                            Width="100"
                            Margin="5"
                            Click="Delete_Click"/>
                </StackPanel>
            </StackPanel>
        </Border>
    </Grid>
</Page>
